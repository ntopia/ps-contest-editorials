---
layout: solution
round_name: Topcoder SRM 504.5 Div1
prob_name: '[Medium] TheJackpotDivOne'
title: '[Medium] TheJackpotDivOne - Topcoder SRM 504.5 Div1'
prob_link: 'https://community.topcoder.com/stat?c=problem_statement&pm=11097'
gist: 75b0007fd5463452e3cb7a82c69fd581
tags: [math, greedy]
---
관찰1. 주어진 프로세스를 반복하다보면 언젠가는 모든 수가 같아지는 경우가 나타난다.
이것은 대략 다음과 같이 보일 수 있다.
우선 하나라도 다른 값이 존재한다면, 그 때의 평균은 무조건 최대값보다 작다. (이것은 자명)
최소값을 p, 평균을 a라 하자. 우리는 p + x 가 a보다 크면서 가장 작은 정수가 되도록 x를 고르게 된다.
그런데 이렇게 되면 p + x 는 최대값 이하가 된다. 끝.

모든 수가 같아지고 나면 그 이후엔 돌아가면서 1씩 더해지는 과정이 반복되므로 답을 바로 구할 수 있다.

관찰2. 임의의 배열에서 모든 수가 같아질 때 까지 걸리는 스텝의 수는 많아야 2000스텝 이하이다.

이것도 적절하게 증명할 수 있는데,
최대값과 최소값의 차이가  n-1 스텝 후에는  (n-1)/n 의 비율로 줄어든다는 것을 끌어내면 된다. (자세한 것은 에디토리얼을 참고!)

따라서 모든 수가 같아지기 전까지는 그냥 시뮬레이션을 하고, 수가 같아지면 나머지 답을 바로 구하면 된다.
